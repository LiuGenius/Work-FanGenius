# 工作需求修改

> 更新于 2022/03/22

# 原先的项目报备更改为授权项目报备

- ### 需求 1.增加一个跟进项目报备。具体内容如下。卡片形式显示：项目名称、金额、客户公司名称、负责人（项目跟进人）、项目金额。点击后进入具体的项目跟进信息。
- ### 需求 2.出差申请，填写出差申请。

  - ### 1.1.新增表 xh_follow_project (跟进项目表)
    - ### 字段 1： ID id
    - ### 字段 2：项目名称 projectName
    - ### 字段 3：金额 money
    - ### 字段 4：客户公司名称 companyName
    - ### 字段 5：客户联系方式 companyContact
    - ### 字段 6：负责人（项目跟进人） principal
    - ### 字段 7：创建人 ID createUserId
    - ### 字段 8：创建时间 createTime
  - ### 1.2.新增表 xh_follow_project_report (跟进项目报备表)

    - ### 字段 1：ID id
    - ### 字段 2: 跟进项目表 ID(关联 xh_follow_project 表的 ID) xh_follow_project_id
    - ### 字段 3：跟进详情 followInfo
    - ### 字段 4：跟进人 ID userId

  - ### 2.1 新增表 xh_travel_form (出差申请表)
    - ### 字段 1：标题 title
    - ### 字段 2：内容 content
    - ### 字段 3：申请人 ID userId
    - ### 字段 4：申请人姓名 userName
    - ### 字段 5：申请人头像 userAvatar
    - ### 字段 6：出差日期（Date） createTime
    - ### 字段 7：出差时间（day） outTime

- ### 接口需求：
  - ### 1.添加项目报备信息
  - ### 2.获取项目报备信息列表
  - ### 3.获取项目报备信息详情 (附带项目跟进信息)
  - ### 4.添加项目报备跟进信息 (参数：xh_follow_project_id/followInfo/userId)
  - ### 5.添加出差申请表 （参数：title/content/userId/outTime/createTime）

> 更新于 2022/03/23

- ### xh_travel_form (出差申请表) 修改
  - ### 字段：申请人 ID userId
  - ### 字段：申请人姓名 userName
  - ### 字段：申请人头像 userAvatar
  - ### 字段：申请事由 cause
  - ### 字段：申请时间 createTime
  - ### 字段：出发时间 departureDate
  - ### 字段：预计返回时间 returnDate
  - ### 字段：交通工具 vehicle
  - ### 字段：客户信息（公司名称） companyName
  - ### 字段：客户信息（联系方式） companyContact
  - ### 字段：客户信息（联系地址） companyAddress
  - ### 字段：具体出差内容 travelContent
  - ### 字段：确认人 affirmUserId
  - ### 字段：出差状态 state
  - ### 字段：结束出差描述 finishRemake
- ### 添加接口：结束出差并描述 参数：id,finishRemake (将出差表的状态改为已结束，并且设置 finishRemake)

> 更新于 2022/03/24

# 测评需求 管理端

### 命名规范：所有数据库表名/实体类名称 加前缀名:cp\_

### 注释要求：三行内要求至少一条注释解释

### 下面是大体功能表和功能描述

---------  ----------  ----------  


# 模块一：组织管理


- ### A.组织管理

  - #### A1.架构管理
    - ##### 最多不超过三级 即：学校--年级--班级
  - #### A2.角色管理
    - ###### 学生 无法登录管理端，可以登录用户端，使用测评表
    - ##### 教师 双端可登录 创建用户时选择 1.组织管理 2.工作台 3.系统管理 4.使用测评 四种权限，可多选
    - ##### 外部联系人 只能登录客户端，无法使用测评表

- ### B.用户管理
	- #### 导入用户
	- #### 导出用户
	- #### 用户的增删改查 搜索功能 可根据角色排序
	

- ### 内容管理

# 模块二：工作台

- ### 发布测评
- ### 预约管理
- ### 预警中心
- ### 量表管理
- ### 学习任务

# 模块三：系统管理

- ### 用户端设置


## 数据库表设计
-----------

### 用户表：cp_user

| 字段名|描述|类型|
| --------- | -----:| -----:|
|id|用户编号|**long**|
|userName|用户姓名|**String**|
|sex|性别|**ENUM **|
|age|年龄|**int**|
|account|账号|**String**|
|password|密码|**String**|
|register_time|注册时间|**long**|
|company_id|所属部门ID|**String**|
|company_name|所属部门名称|**String**|
|role_id|角色ID|**long**|
|role_name|角色名称|**long**|
|lastLoginTime|上次登录时间|**DATE (yyyy/MM/dd HH:mm:ss)**|
